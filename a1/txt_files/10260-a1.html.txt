<!DOCTYPE html>
<html lang="en">
<!--
    @author   Stephen Adams <stephen.adams5@mohawkcollege.ca
    @purpose  Client side code for COMP 10260 Assignment 1
    @revision 2023.35.0
-->
<head>    
    <title>COMP 10260 Assignment 1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Stephen Adams">  
    <meta name="description" content="Starter code for COMP 10260 Assignment 1">

    <script defer>
        /**
         * @param script         name of the php file to call
         * @param container_id   string id of the container to place the result
         * @oaram param_id       string id of the GET parameter to pass
         * @param param          value of the GET parameter to pass
         * 
         * Note: Only works for single GET parameter key/value pair
         * */
        function button( script, container_id, param_id, param ) {
            fetch( script+'?'+param_id+'='+param )
            .then( response => {
                if ( !response.ok ) {
                    throw new Error(response.status+" "+response.statusText)
                } else {
                    return response.text();
                } 
            } )
            .then( data => document.getElementById( container_id ).innerHTML = data )
            .catch( error => document.getElementById( container_id ).innerHTML = '<strong>'+error+'</strong>' );
        }

        button('me.php', 'student_info', '', '');
    </script>

</head>
<body>
    <header class='text-center'>
        <h1>COMP 10260 Assignment 1</h1>
        <h2 id='student_info'>By: </h2>
    </header>

    <main>

        <section id='group1-1'>
        <input id='group1-1_param' type='text' value='ABC0000000'>
        <button onclick="button( 'group1-1.php', 'group1-1_output', 'serial_number', document.getElementById('group1-1_param').value )">Run 1-1</button>
        <ul id='group1-1_output'></ul>
        </section>

        <section id='group2-1'>
        <input id='group2-1_param' type='number' min='3' max='10' value='3'>
        <button onclick="button( 'group2-1.php', 'group2-1_table', 'rows', document.getElementById('group2-1_param').value )">Run 2-1</button>
        <table id='group2-1_table' class='table table-striped'></table>
        </section>

        <section id='group2-2'></section>
    </main>

    <footer>
        Submitted for credit to Mohawk College, &copy;2023.
    </footer>
</body>
</html>